import{r as n,o as W,m as o,n as w,w as Me,J as De,K as $e,M as ae,O as Ae,A as oe,Q as Le,U as Oe}from"./index-BEyJHjE1.js";import{f as Ue,m as ue}from"./ElementChildren-DPRnfiba.js";function _e(t,s){const u=n.useRef(!0);n.useEffect(()=>{if(u.current){u.current=!1;return}return t()},s)}function Xe(){const t=n.useRef(!0),s=n.useRef(()=>t.current);return n.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),s.current}function He(t){const s=n.useRef(t);return s.current=t,s}function Ke(t){const s=He(t);n.useEffect(()=>()=>s.current(),[])}const P=2**31-1;function ce(t,s,u){const l=u-Date.now();t.current=l<=P?setTimeout(s,l):setTimeout(()=>ce(t,s,u),P)}function Pe(){const t=Xe(),s=n.useRef();return Ke(()=>clearTimeout(s.current)),n.useMemo(()=>{const u=()=>clearTimeout(s.current);function l(h,c=0){t()&&(u(),c<=P?s.current=setTimeout(h,c):ce(s,h,Date.now()+c))}return{set:l,clear:u,handleRef:s}},[])}const le=n.forwardRef(({className:t,bsPrefix:s,as:u="div",...l},h)=>(s=W(s,"carousel-caption"),o.jsx(u,{ref:h,className:w(t,s),...l})));le.displayName="CarouselCaption";const ie=n.forwardRef(({as:t="div",bsPrefix:s,className:u,...l},h)=>{const c=w(u,W(s,"carousel-item"));return o.jsx(t,{ref:h,...l,className:c})});ie.displayName="CarouselItem";const We=40;function Fe(t){if(!t||!t.style||!t.parentNode||!t.parentNode.style)return!1;const s=getComputedStyle(t);return s.display!=="none"&&s.visibility!=="hidden"&&getComputedStyle(t.parentNode).display!=="none"}const de=n.forwardRef(({defaultActiveIndex:t=0,...s},u)=>{const{as:l="div",bsPrefix:h,slide:c=!0,fade:fe=!1,controls:me=!0,indicators:M=!0,indicatorLabels:D=[],activeIndex:p,onSelect:v,onSlide:S,onSlid:y,interval:T=5e3,keyboard:F=!0,onKeyDown:$,pause:R="hover",onMouseOver:A,onMouseOut:L,wrap:I=!0,touch:B=!0,onTouchStart:O,onTouchMove:U,onTouchEnd:_,prevIcon:he=o.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:V="Previous",nextIcon:pe=o.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:J="Next",variant:Q,className:ve,children:X,...xe}=Me({defaultActiveIndex:t,...s},{activeIndex:"onSelect"}),f=W(h,"carousel"),N=De(),E=n.useRef(null),[Y,q]=n.useState("next"),[Ce,j]=n.useState(!1),[b,z]=n.useState(!1),[a,Re]=n.useState(p||0);n.useEffect(()=>{!b&&p!==a&&(E.current?q(E.current):q((p||0)>a?"next":"prev"),c&&z(!0),Re(p||0))},[p,b,a,c]),n.useEffect(()=>{E.current&&(E.current=null)});let x=0,G;Ue(X,(e,r)=>{++x,r===p&&(G=e.props.interval)});const Z=$e(G),i=n.useCallback(e=>{if(b)return;let r=a-1;if(r<0){if(!I)return;r=x-1}E.current="prev",v==null||v(r,e)},[b,a,v,I,x]),d=ae(e=>{if(b)return;let r=a+1;if(r>=x){if(!I)return;r=0}E.current="next",v==null||v(r,e)}),H=n.useRef();n.useImperativeHandle(u,()=>({element:H.current,prev:i,next:d}));const ee=ae(()=>{!document.hidden&&Fe(H.current)&&(N?i():d())}),C=Y==="next"?"start":"end";_e(()=>{c||(S==null||S(a,C),y==null||y(a,C))},[a]);const Ne=`${f}-item-${Y}`,Ee=`${f}-item-${C}`,be=n.useCallback(e=>{Ae(e),S==null||S(a,C)},[S,a,C]),Se=n.useCallback(()=>{z(!1),y==null||y(a,C)},[y,a,C]),ye=n.useCallback(e=>{if(F&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":e.preventDefault(),N?d(e):i(e);return;case"ArrowRight":e.preventDefault(),N?i(e):d(e);return}$==null||$(e)},[F,$,i,d,N]),Te=n.useCallback(e=>{R==="hover"&&j(!0),A==null||A(e)},[R,A]),Ie=n.useCallback(e=>{j(!1),L==null||L(e)},[L]),ne=n.useRef(0),k=n.useRef(0),te=Pe(),ge=n.useCallback(e=>{ne.current=e.touches[0].clientX,k.current=0,R==="hover"&&j(!0),O==null||O(e)},[R,O]),we=n.useCallback(e=>{e.touches&&e.touches.length>1?k.current=0:k.current=e.touches[0].clientX-ne.current,U==null||U(e)},[U]),je=n.useCallback(e=>{if(B){const r=k.current;Math.abs(r)>We&&(r>0?i(e):d(e))}R==="hover"&&te.set(()=>{j(!1)},T||void 0),_==null||_(e)},[B,R,i,d,te,T,_]),se=T!=null&&!Ce&&!b,K=n.useRef();n.useEffect(()=>{var e,r;if(!se)return;const m=N?i:d;return K.current=window.setInterval(document.visibilityState?ee:m,(e=(r=Z.current)!=null?r:T)!=null?e:void 0),()=>{K.current!==null&&clearInterval(K.current)}},[se,i,d,Z,T,ee,N]);const re=n.useMemo(()=>M&&Array.from({length:x},(e,r)=>m=>{v==null||v(r,m)}),[M,x,v]);return o.jsxs(l,{ref:H,...xe,onKeyDown:ye,onMouseOver:Te,onMouseOut:Ie,onTouchStart:ge,onTouchMove:we,onTouchEnd:je,className:w(ve,f,c&&"slide",fe&&`${f}-fade`,Q&&`${f}-${Q}`),children:[M&&o.jsx("div",{className:`${f}-indicators`,children:ue(X,(e,r)=>o.jsx("button",{type:"button","data-bs-target":"","aria-label":D!=null&&D.length?D[r]:`Slide ${r+1}`,className:r===a?"active":void 0,onClick:re?re[r]:void 0,"aria-current":r===a},r))}),o.jsx("div",{className:`${f}-inner`,children:ue(X,(e,r)=>{const m=r===a;return c?o.jsx(Le,{in:m,onEnter:m?be:void 0,onEntered:m?Se:void 0,addEndListener:Oe,children:(g,ke)=>n.cloneElement(e,{...ke,className:w(e.props.className,m&&g!=="entered"&&Ne,(g==="entered"||g==="exiting")&&"active",(g==="entering"||g==="exiting")&&Ee)})}):n.cloneElement(e,{className:w(e.props.className,m&&"active")})})}),me&&o.jsxs(o.Fragment,{children:[(I||p!==0)&&o.jsxs(oe,{className:`${f}-control-prev`,onClick:i,children:[he,V&&o.jsx("span",{className:"visually-hidden",children:V})]}),(I||p!==x-1)&&o.jsxs(oe,{className:`${f}-control-next`,onClick:d,children:[pe,J&&o.jsx("span",{className:"visually-hidden",children:J})]})]})]})});de.displayName="Carousel";const Je=Object.assign(de,{Caption:le,Item:ie});export{Je as C};
